# Redis configuration for ML service caching\n\n# Network\nbind 0.0.0.0\nport 6379\nprotected-mode no\n\n# General\ndaemonize no\nsupervised no\npidfile /var/run/redis.pid\nloglevel notice\nlogfile \"\"\ndatabases 16\n\n# Persistence\nsave 900 1\nsave 300 10\nsave 60 10000\nstop-writes-on-bgsave-error yes\nrdbcompression yes\nrdbchecksum yes\ndbfilename dump.rdb\ndir ./\n\n# Memory management\nmaxmemory 512mb\nmaxmemory-policy allkeys-lru\n\n# Performance\ntcp-keepalive 300\ntimeout 0\ntcp-backlog 511\n\n# Security\n# requirepass your_redis_password_here\n\n# AOF (Append Only File)\nappendonly yes\nappendfilename \"appendonly.aof\"\nappendfsync everysec\nno-appendfsync-on-rewrite no\nauto-aof-rewrite-percentage 100\nauto-aof-rewrite-min-size 64mb\naof-load-truncated yes\naof-use-rdb-preamble yes\n\n# Slow log\nslowlog-log-slower-than 10000\nslowlog-max-len 128\n\n# Client output buffer limits\nclient-output-buffer-limit normal 0 0 0\nclient-output-buffer-limit replica 256mb 64mb 60\nclient-output-buffer-limit pubsub 32mb 8mb 60\n\n# Hash configuration\nhash-max-ziplist-entries 512\nhash-max-ziplist-value 64\n\n# List configuration\nlist-max-ziplist-size -2\nlist-compress-depth 0\n\n# Set configuration\nset-max-intset-entries 512\n\n# Zset configuration\nzset-max-ziplist-entries 128\nzset-max-ziplist-value 64\n\n# HyperLogLog configuration\nhll-sparse-max-bytes 3000\n\n# Streams configuration\nstream-node-max-bytes 4096\nstream-node-max-entries 100\n\n# Active rehashing\nactiverehashing yes\n\n# Hz\nhz 10\n\n# Dynamic HZ\ndynamic-hz yes\n\n# AOF rewrite incremental fsync\naof-rewrite-incremental-fsync yes\n\n# RDB save incremental fsync\nrdb-save-incremental-fsync yes\n